<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - Mi Tienda</title>
    <link rel="stylesheet" href="style.css">
    <!-- ESTILOS PARA ALINEACIÓN DE NAVEGACIÓN -->
    <style>
        /* He aumentado el espacio de 2.5rem a 3.5rem */
        .nav-links { gap: 3.5rem; }
        .admin-nav-link { text-decoration: none; color: #333; font-weight: bold; font-size: 0.9rem; text-transform: uppercase; margin-right: 0.5rem; }
        #user-email { font-weight: bold; font-size: 0.9rem; color: #555; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    </style>
</head>
<body>

    <header>
        <div class="top-bar">
             <a href="index.html">
                <img src="https://res.cloudinary.com/dgrfs58n6/image/upload/v1761256896/banner_4_r8x0te.jpg" alt="Banner principal de marcas">
             </a>
        </div>
        <nav class="main-nav">
            <div class="logo">
                <a href="index.html" style="text-decoration: none; color: inherit;"><h1>MARY KAY</h1></a>
            </div>
            <ul class="nav-links">
                <li><a href="sobre-mary-kay.html">SOBRE MARY KAY</a></li>
                <li class="dropdown">
                    <a href="#">PRODUCTOS</a>
                    <div class="dropdown-content">
                        <a href="productos-marykay.html">Mary Kay</a>
                        <a href="productos-biogreen.html">Biogreen</a>
                        <a href="productos-arbell.html">Arbell</a>
                        <a href="productos-nexo.html">Nexo (Indumentaria)</a>
                    </div>
                </li>
                <li><a href="quiero-ser-consultora.html">QUIERO SER CONSULTORA</a></li>
                <li><a href="contacto.html">CONTÁCTANOS</a></li>
             </ul>
            <div class="nav-extra">
                 <div id="user-logged-out"><a href="login.html" class="auth-link">Iniciar Sesión</a><a href="registro.html" class="auth-link register-link">Registrarse</a></div>
                 <!-- Estructura corregida -->
                 <div id="user-logged-in" style="display: none;">
                    <a id="admin-link-a" href="admin.html" class="admin-nav-link" style="display: none;">ADMIN</a>
                    <span id="user-email"></span>
                    <button id="logout-button" class="auth-link">Cerrar Sesión</button>
                </div>
                 <a href="carrito.html" class="cart-link">🛒 Carrito</a>
             </div>
        </nav>
    </header>

    <!-- Este main será rellenado por app.js -->
    <main class="carrito-main-container">
        <h2>Mi Carrito de Compras</h2>
        
        <!-- El JS insertará los productos aquí -->
        <div id="carrito-container">
            <p class="loading-message">Cargando tu carrito...</p> <!-- Mensaje de carga inicial -->
        </div>
        
        <!-- El JS insertará el total aquí -->
        <div id="carrito-total-container"></div>
        
    </main>

    <!-- Footer especial solo para el carrito -->
    <footer>
        <button id="finalizar-compra" style="display: none;">Finalizar Compra por WhatsApp</button>
        <button id="vaciar-carrito" style="display: none;">Vaciar Carrito</button>
        <p style="margin-top: 1rem; font-size: 0.8rem; color: #777;">© 2025 Mi Tienda Mary Kay. Todos los derechos reservados.</p>
    </footer>
    
    <!-- === BLOQUE DE SCRIPTS === -->
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script> <!-- Necesario -->

    <script>
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCD4lBf6BA76Oz-SDr4f8eaPA-q7v5AecY",
  authDomain: "consultoravidal91.firebaseapp.com",
  projectId: "consultoravidal91",
  storageBucket: "consultoravidal91.firebasestorage.app",
  messagingSenderId: "840042202477",
  appId: "1:840042202477:web:aae77961b4bca465dc4664",
  measurementId: "G-HP3L0WZ60V"
};
  
      // Inicializar Firebase (evitando reinicializar)
      if (typeof firebase !== 'undefined' && !firebase.apps.length) {
         firebase.initializeApp(firebaseConfig);
      }
      const auth = firebase.auth(); // Objeto Auth
      const db = firebase.firestore(); // Objeto Firestore DB 
  
      // Variable global para identificar al admin (usada por auth.js)
      const ADMIN_EMAIL = 'ortolanimichael@gmail.com';
    </script>
    
    <!-- Tus scripts personalizados -->
    <script src="app.js" defer></script> <!-- Necesario para renderizarCarrito() y actualizarContadorCarrito() -->
    <script src="auth.js" defer></script> <!-- Necesario para manejar login/logout en header -->
    <!-- ======================== -->

</body>
</html>

